{% extends 'partials/base.html' %}
{% load static %}

{% block stylesheets %}
	<link rel="stylesheet" href="{% static "resources/css/svg.css"%}">
{% endblock %}


{% block content %}
<nav class="navbar navbar-toggleable-xl navbar-light bg-main">
	<div id="navbarNavDropdown ml-5" class="navbar-collapse collapse">
		<div class="container">
			<a class="navbar-brand" href="/eisegesis/">
    			<img src="{% static "resources/img/x.svg"%}" width="30" height="30" alt="">
  			</a>		
		</div>
	</div>
</nav>	


<div class="container mt-5">
	<div id="graph-container" style="height: 500px">
         <div id="graph"></div>
    </div>
    <div id="docs-container">
         <a id="docs-close" href="#">&times;</a>
     	 <div id="docs" class="docs">
     	 </div>
    </div>
</div>


{% endblock %}


{% block scriptfiles %}
	<script src="{% static "resources/js/jquery-1.10.2.min.js"%}"></script>
	<script src="{% static "resources/js/jquery.browser.min.js"%}"></script>
	<script src="{% static "resources/js/d3.v3.min.js"%}"></script>
	<script src="{% static "resources/js/colorbrewer.js"%}"></script>
	<script src="{% static "resources/js/geometry.js"%}"></script>
{% endblock %}
   
   
{% block scripts %}
		<script>
		var config = {
			"title": "Database process documentation"
			, "graph": {
				"linkDistance": 100
				, "charge": -400
				, "height": 600
				, "numColors": 12
				, "labelPadding": {
					"left": 3
					, "right": 3
					, "top": 2
					, "bottom": 2
				}
				, "labelMargin": {
					"left": 3
					, "right": 3
					, "top": 2
					, "bottom": 2
				}
				, "ticksWithoutCollisions": 50
			}
			, "types": {
				"view": {
					"short": "View"
					, "long": "Database view"
				}
				, "table": {
					"short": "Table"
					, "long": "Database table"
				}
				, "query": {
					"short": "Query"
					, "long": "Database query"
				}
				, "sas": {
					"short": "SAS project"
					, "long": "SAS project"
				}
				, "extract": {
					"short": "ETL process"
					, "long": "Extract-transform-load process"
				}
				, "database": {
					"short": "Access database"
					, "long": "Access database"
				}
				, "report": {
					"short": "Report"
					, "long": "Report"
				}
			}
			, "constraints": [{
				"has": {
					"name": "SASProject.egp"
				}
				, "type": "position"
				, "x": 0.15
				, "weight": 0.7
			}, {
				"has": {
					"name": "ETL process 1"
				}
				, "type": "position"
				, "x": 0.3
				, "weight": 0.7
			}, {
				"has": {
					"name": "ETL process 2"
				}
				, "type": "position"
				, "x": 0.45
				, "weight": 0.7
			}, {
				"has": {
					"name": "ETL process 4"
				}
				, "type": "position"
				, "x": 0.6
				, "weight": 0.7
			}, {
				"has": {
					"name": "ETL process 3"
				}
				, "type": "position"
				, "x": 0.75
				, "weight": 0.7
			}, {
				"has": {
					"name": "ETL process 5"
				}
				, "type": "position"
				, "x": 0.9
				, "weight": 0.7
			}, {
				"has": {
					"type": "extract"
				}
				, "type": "position"
				, "y": 0
				, "weight": 0.8
			}, {
				"has": {
					"type": "sas"
				}
				, "type": "position"
				, "y": 0
				, "weight": 0.8
			}, {
				"has": {
					"type": "table"
				}
				, "type": "position"
				, "y": 0.1
				, "weight": 0.8
			}, {
				"has": {
					"type": "view"
				}
				, "type": "position"
				, "y": 0.2
				, "weight": 0.8
			}, {
				"has": {
					"type": "query"
				}
				, "type": "position"
				, "y": 0.5
				, "weight": 0.5
			}, {
				"has": {
					"type": "database"
				}
				, "type": "position"
				, "y": 0.8
				, "weight": 0.8
			}, {
				"has": {
					"type": "report"
				}
				, "type": "position"
				, "y": 1
				, "weight": 0.8
			}, {
				"has": {
					"type": "report"
					, "group": "Intermediate"
				}
				, "type": "position"
				, "y": 0.8
				, "weight": 0.8
			}, {
				"has": {
					"type": "report"
					, "group": "Reporting"
				}
				, "type": "position"
				, "x": 0.9
				, "weight": 0.8
			}, {
				"has": {
					"type": "query"
					, "group": "Data1"
				}
				, "type": "position"
				, "x": 0.15
				, "weight": 0.7
			}, {
				"has": {
					"type": "query"
					, "group": "Data3"
				}
				, "type": "position"
				, "x": 0.2
				, "weight": 0.7
			}, {
				"has": {
					"type": "query"
					, "group": "Data4"
				}
				, "type": "position"
				, "x": 0.2
				, "weight": 0.7
			}, {
				"has": {
					"type": "query"
					, "group": "Data2"
				}
				, "type": "position"
				, "x": 0.5
				, "weight": 0.4
			}, {
				"has": {
					"type": "query"
					, "group": "Validation"
				}
				, "type": "position"
				, "x": 0.8
				, "y": 0.7
				, "weight": 0.7
			}, {
				"has": {
					"type": "query"
					, "group": "Miscellaneous"
				}
				, "type": "position"
				, "x": 0.9
				, "y": 0.5
				, "weight": 0.7
			}, {
				"has": {
					"type": "query"
					, "group": "Management"
				}
				, "type": "position"
				, "x": 0.95
				, "weight": 0.7
			}, {
				"has": {
					"type": "query"
				}
				, "type": "linkStrength"
				, "strength": 0.25
			}, {
				"has": {
					"type": "database"
				}
				, "type": "linkStrength"
				, "strength": 0.5
			}]
			, "jsonUrl": "{% static "resources/json/json.json"%}"
		};
	</script>
		<script src="{% static "resources/js/script.js"%}"></script>
{% endblock %}